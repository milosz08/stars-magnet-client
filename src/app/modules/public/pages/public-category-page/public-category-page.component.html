<!--
 ~ Copyright (c) 2023 by MILOSZ GILGA <https://miloszgilga.pl>
 ~ For check application license, check LICENSE file.
 -->

<div class="row">
  <div class="col-lg-4 mb-4 d-flex">
    <div class="col-lg w-100">
      <div class="sticky-top panel-left-nav">
        <div class="row mt-4">
          <a
            class="hstack gap-2 text-decoration-none text-secondary"
            routerLink="/">
            <i class="bi bi-arrow-return-left"></i>
            Return to all categories
          </a>
        </div>
        <div class="d-none d-lg-block card border-0 shadow-sm mt-3 p-3">
          <app-category-companies-filter
            (refrehDataEmit)="refreshCompanies()" />
        </div>
        <div ngbAccordion class="mt-3 d-block d-lg-none">
          <div ngbAccordionItem>
            <h2 ngbAccordionHeader class="d-block d-lg-none">
              <button ngbAccordionButton>Advanced filters</button>
            </h2>
            <div ngbAccordionCollapse>
              <div ngbAccordionBody>
                <ng-template>
                  <app-category-companies-filter
                    (refrehDataEmit)="refreshCompanies()" />
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-8 mt-4">
    <app-companies-list
      [categoryName]="categoryName"
      (emitChangePageEmitter)="onChangePage($event)"
      (emitChangeLimit)="refreshCompanies()">
      <p class="text-secondary text-center" top>
        Show all companies from category:
        <span class="text-dark">{{ categoryName }}</span>
        ({{ totalCount$ | async }} positions)
      </p>
      <ng-container alert>
        Not found any company matching to selected category:
        <strong class="alert-link">{{ categoryName }}</strong
        >.
      </ng-container>
    </app-companies-list>
  </div>
</div>
