<!--
 ~ Copyright (c) 2023 by MILOSZ GILGA <https://miloszgilga.pl>
 ~ Silesian University of Technology
 ~ 
 ~   File name: category-companies-filter.component.html
 ~   Created at: 2023-06-05, 00:03:38
 ~   Last updated at: 2023-08-30, 22:22:35
 ~   Project name: stars-magnet-client
 ~ 
 ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 ~ file except in compliance with the License. You may obtain a copy of the License at
 ~ 
 ~   <http://www.apache.org/license/LICENSE-2.0>
 ~ 
 ~ Unless required by applicable law or agreed to in writing, software distributed under
 ~ the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS
 ~ OF ANY KIND, either express or implied. See the License for the specific language
 ~ governing permissions and limitations under the license.
 -->

<form (ngSubmit)="handleFilterCompanies()">
  <button
    class="btn btn-secondary mb-3 w-100"
    type="button"
    (click)="handleClearFilters()">
    Clear filter
  </button>
  <p class="fs-6 text-secondary mb-2 lh-sm">Filter company's results:</p>
  <div class="form-check form-switch">
    <input
      class="form-check-input"
      type="checkbox"
      role="switch"
      id="hasGrades"
      name="hasAnyGrade"
      [(ngModel)]="filter.hasGrades" />
    <label class="form-check-label" for="hasGrades">Only with grades</label>
  </div>
  <div class="d-flex justify-content-between">
    <p class="fs-6 text-secondary mb-0 mt-4 lh-sm">Grades:</p>
    <p *ngIf="selectedStars" class="fs-6 text-secondary mb-0 mt-4 lh-sm">
      {{ selectedStars }}/10
    </p>
  </div>
  <app-grade-stars
    [selectedStars]="filter.avgGrade"
    (selectStarEmit)="handleChangeStar($event)"
    (currentSelectedStarsEmit)="handleCurrentSelectedStars($event)" />
  <p class="fs-6 text-secondary mb-2 mt-3 lh-sm">Sort by:</p>
  <select
    class="form-select mb-3"
    [(ngModel)]="filter.sortBy"
    name="selectedSortBy">
    <option value="alphabetically">alphabetically (company name)</option>
    <option value="gradesCount">by count of grades</option>
    <option value="gradesLevel">by rating (stars)</option>
  </select>
  <p class="fs-6 text-secondary mb-2 lh-sm">Sort direction:</p>
  <select
    class="form-select mb-3"
    [(ngModel)]="filter.sortDir"
    name="selectedSortDir">
    <option value="ASC">ascending</option>
    <option value="DESC">descending</option>
  </select>
  <button class="btn btn-primary w-100">Filter</button>
</form>
